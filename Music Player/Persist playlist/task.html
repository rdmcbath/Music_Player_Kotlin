<div class="step-text">
<h5 id="description">Description</h5><p>Last stage was wild, wasn't it? What a great party, it's a shame I don't really remember anything. Your app doesn't remember anything either: all playlists saved during our awesome party are now gone. You should change that now, implementing a database to keep the playlists saved.</p><h5 id="objectives">Objectives</h5><ol><li><p>Database:</p><ul><li><p>you can make the design of this database very simple: it will be one table only, and you will only keep the relations between <code class="java">playlistName</code> and <code class="java">songId</code>;</p></li><li><p>name the database <code class="java">musicPlayerDatabase.db</code>;</p></li><li><p>create a table with the name <code class="java">playlist</code> if that table doesn't exist yet;</p></li><li><p>add a <code class="java">playlistName</code> column with the type <code class="java">TEXT</code>;</p></li><li><p>add a <code class="java">songId</code> column with the type <code class="java">INTEGER</code>;</p></li><li><p>don't add the "All Songs" playlist to the database: this one should be kept in memory only;</p></li><li><p>pairs of <code class="java">playlistName</code> and <code class="java">songId</code> should be unique, that is, don't add the same song to one playlist twice;</p></li><li><p>if a playlist with the same name as an existing one is added, remove the old playlist and keep only the songs from the new playlist;</p></li><li><p>if a playlist is loaded with an empty or non-existing "All Songs" playlist, then the search should be done automatically before loading the list; that is, first try loading the songs from the device into "All Songs" playlist once, then proceed with loading the playlist as usual;</p></li><li><p>if a song from the saved playlist is not in the "All Songs" playlist, don't display it;</p></li><li><p>removing a playlist does the obvious: remove all entries with that <code class="java">playlistName</code>;</p></li><li><p>if you are testing your app with an emulated device, you can find the database file on <code class="java">data/data/org.hyperskill.musicplayer/databases</code> in the device file explorer; if you want to reset the database, you can just erase the database files; if you want to open the file to see the contents, you can do that by first clicking twice on the <code class="java">musicPlayerDatabase.db</code>; </p></li><li><p>if, when opening a file, its name has unreadable chars, right click on it and look for "open in terminal" â€“ now you can use SQLite to open it with <code class="java">sqlite3 ./musicPlayerDatabase.db</code>; you should have sqlite3 installed and reachable on <code class="java">$PATH</code> to be able to do that.</p></li></ul></li><li><p><code class="java">mainMenuLoadPlaylist</code>:</p><ul><li><p>display the "All Songs" playlist even if the <code class="java">mainSearchButton</code> hasn't been clicked yet;</p></li><li><p>if any playlist is loaded before <code class="java">mainSearchButton</code> is clicked, then the search should be done automatically before loading the list.</p></li></ul></li></ol><p>obs: tests assume the existence of a file named "wisdom.mp3" on res/raw. It should be loaded automatically with the project, but if for some reason it goes missing use this link to restore it <a href="https://stepik.org/media/attachments/lesson/791917/wisdom.mp3" rel="noopener noreferrer nofollow" target="_blank">https://stepik.org/media/attachments/lesson/791917/wisdom.mp3</a></p><h5 id="example">Example</h5><p><picture><img alt="android music player persistent playlist" height="573" src="https://ucarecdn.com/8d64091c-27db-4acb-8aa4-9b7dbfe85731/" width="321"/></picture></p>
</div>